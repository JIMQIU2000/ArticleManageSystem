<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <script src="../js/jquery-1.4.1.js"></script>
    <script>
        function uploadImg() {
            var formData = new FormData();
            var file = $('#UploadImage')[0].files;
            formData.append('file', file);
            if (formData == '') {
                alert("上传为空");
            }
            $.ajax({
                type: 'Post',
                url: '../WebService1.asmx/UploadImg',
                data: formData,
                //cache: false,
                //async: false,
                success: function (status) {
                    if (status != 'error') {
                        var my_path = "MediaUploader/" + status;
                        $("#myUploadedImg").attr("src", my_path);
                    }
                },
                processData: false,
                contentType: false,
                error: function () {
                    alert("Whoops something went wrong!");
                }
            });
        }
        $(document).ready(function () {
            $("#submit").click(function () {
                uploadImg();
            });
        })
    </script>
</head>
<body>
    <input type="file" accept="image/*" id="UploadImage">
    <img id="myUploadedImg" alt="Photo" style="width:180px;">
    <input type="button" id="submit" value="333"/>
</body>
</html>